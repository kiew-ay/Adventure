@startuml
' Packages for the Adventure RPG

'===============================================================================
' SKINPARAMS
'-------------------------------------------------------------------------------
skinparam class {
    BorderColor<<Module>> Gray
    BackgroundColor<<Module>> LightGray
}
skinparam object {
    BorderColor Black
    BackgroundColor Violet
}


'===============================================================================
' PACKAGES
'-------------------------------------------------------------------------------
'_______________________________________________________________________________
package "Mission Creation" <<Cloud>> #Wheat {
    '_______________________________________________________________________________
    package Character <<Folder>> {
        '----------------------------------
        class Character {
            name : ''
            image : ''
            hp : 100
            skills : []
            inventory : []
            self.hp_plus(amount)
            self.hp_minus(amount)
        }
        class Protagonist {
            body_type : ''
            mind_type : ''
            self.hp_plus(amount)
            self.hp_minus(amount)
            self.add_to_inventory(item)
            self.remove_from_inventory(item)
        }
        class Enemy {
            self.hp_plus(amount)
            self.hp_minus(amount)
        }
        Character <|-- Protagonist
        Character <|-- Enemy

        '----------------------------------
        class Skill {
            self.name : ""
            self.description : ""
            self.do()
        }
        class Punch {
            self.damage : 10
        }
        Character *. "*" Skill
        Skill <|-- Punch

        '----------------------------------
        class Interactible {
            self.inspect()
        }
        class Item {
            self.pick_up()
            self.use()
        }   
        class Door {
            self.rooms = [room1, room2]
            self.key : None
            self.status : (closed, unlocked)
            self.unlock()
            self.open()
            'toggle current_room between rooms in self.rooms
            self.go_through(): Toggle current_room
        }
        Interactible <|-- Item
        Interactible <|-- Door
    }

    '_______________________________________________________________________________
    package Setting <<Folder>> {
        class Room {
            contents : []
            doors : []
            self.discovered : False
            self.describe()
        }

        class Map {
            draw_map()
            draw_room()
            draw_minimap()
        }
    }

    '_______________________________________________________________________________
    package Plot <<Folder>> {
        class Checker {
            win_conditions : []
            lose_conditions : []
            trigger_events : []

            add_win_condition()
            add_lose_condition()
            check_win_conditions()
            check_lose_conditions()
            check_trigger_events()
            cut_scene()
        }

        '----------------------------------
        abstract class Condition {
            die()
            is_in()
            less_than()
            greater_than()
            equal_to()
            less_than_or_equal_to()
            greater_than_or_equal_to()
        }
    }
}


'_______________________________________________________________________________
package Mission <<Node>> #BUSINESS {
    ''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
    '' The mission file instantiates everything that will exist in the mission.
    ''      - characters (hero, enemies, etc.)
    ''      - map (rooms, doors, and layout)
    ''      - items
    ''      - plot (win/lose conditions, trigger conditions, etc.)
    ''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
    object hero
        Protagonist <|-- hero

    object skeleton
        Enemy <|-- skeleton

    object punch
        Punch <|-- punch

    object diamond
        Item <|-- diamond

    object key
        Item <|-- key

    object room_1
        Room <|-- room_1

    object room_2
        Room <|-- room_2

    object door_1_2
        Door <|-- door_1_2

    object map
        Map <|-- map

    object plot_checker
        Checker <|-- plot_checker
}


'_______________________________________________________________________________
package "Gameplay" <<Cloud>> #GreenYellow {
    '_______________________________________________________________________________
    package Conflict <<Folder>> {
        class Conflict {
            display_options()
            process_interaction()
            summarize_conflict()
        }

        class ConflictManager {
            generate_conflict()
        }
    }
    object conflict
    Conflict <|-- conflict
    ConflictManager ..> conflict

    '_______________________________________________________________________________
    package UserInterface <<Folder>> {
        class UI {
            system : 'Linux'
            describe_setting()
            prompt("question")
            prompt_list("question", options=[])
            prompt_dict("question", options={})
        }

        class Visualizer {
            draw_screen()
        }
    }

    '_______________________________________________________________________________
    package WorldCreator <<Folder>> {
        class Init <<Module>> {
            ' VARIABLES
            character_name : ""
            character_mind_type : ""
            character_body_type : ""

            ' METHODS
            read_mission()
            read_settings()
            read_characters()
            
            generate_map()
            generate_characters()
            generate_plot()
        }

        '----------------------------------
        class Main <<Module>> {
            ' VARIABLES
            inventory : []
            current_room : room_1
            game_state : {}

            ' METHODS
            draw_scene()
            prompt_user()
            generate_conflict()
            modify_stats()

        }
    }
}


'===============================================================================
' FORMATTING & LAYOUT
'-------------------------------------------------------------------------------
'_______________________________________
'           MISSION CREATION
'---------------------------------------
' Align vertically: "Mission Creation", Mission, "Gameplay"
"Mission Creation" -down[hidden]-> Mission
Mission -down[hidden]-> "Gameplay"

' Align horizontally: Character, Settings, Plot
Character -[hidden]> Setting
Setting   -[hidden]> Plot

' Align Character above Enemy
Character -[hidden]-> Enemy

' Align Character over WorldCreator
Character -[hidden]-> WorldCreator

'_______________________________________
'           MISSION
'---------------------------------------
note right of Mission
    <b>Mission</b> instantiates all objects in the mission
    using the classes defined in <b>Mission Creation</b>
end note

' Align Mission over WorldCreator
note "<b>WorldCreator</b> imports <b>Mission</b>" as MissionImportNote
Mission .left[hidden]. MissionImportNote 
MissionImportNote .. WorldCreator


'_______________________________________
'           GAMEPLAY
'.......................................
' Align horizontally: UserInterface, Conflict
UserInterface -[hidden]> Conflict


'_______________________________________
' MISCELLANEOUS FORMATTING
'.......................................
' don't display the circle or stereotype name for these skinparams
hide <<Module>> circle
hide <<Module>> stereotype
hide <<Object>> circle
hide <<Object>> stereotype
'===============================================================================
@enduml
